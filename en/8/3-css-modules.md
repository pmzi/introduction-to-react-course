# Session 8 - Part 3: CSS Modules

When developing a React application, one of the challenges is managing CSS styles. While traditional CSS works well for simple projects, it can become unwieldy and difficult to manage as your application grows in complexity.

One of the biggest problems with traditional CSS is the potential for naming collisions. With traditional CSS, class names are global, which means that if you use the same class name in multiple components, the styles will clash and you'll end up with unpredictable behavior. For example, consider the following CSS:

```css
.my-class {
     color: red;
}
```

If you use the class name `my-class` in multiple components, they will both inherit the same styles. This can lead to unexpected behavior and make it difficult to maintain your codebase.

Another issue is that when you define styles in traditional CSS, you need to be careful about the specificity of your selectors. This can make it difficult to reuse styles across components and can lead to a lot of duplicated code. For example, consider the following CSS:

```css
.container {
     margin: 0 auto;
     max-width: 960px;
}
 .card {
     background-color: white;
     border: 1px solid gray;
     padding: 1rem;
}
```

If you want to reuse the `container` styles in another component, you either need to duplicate the CSS or use a more specific selector like `.card .container`. This can quickly become unwieldy and hard to manage.

CSS Modules is a solution to these problems. It allows you to write traditional CSS stylesheets, but with the added benefit of scoping and modularization. With CSS Modules, each CSS file is treated as a separate module, with its own local scope. This means that class names are automatically scoped to the component they are defined for, eliminating the need for global class names or complex naming schemes.

For example, consider the following CSS module:

```css
.container {
     margin: 0 auto;
     max-width: 960px;
}
 .card {
     background-color: white;
     border: 1px solid gray;
     padding: 1rem;

     .title {
         font-size: 1.5rem;
         font-weight: bold;
    }
}
```

In this example, the `container` and `card` classes are scoped to this module, which means that they will not clash with other components in your application. Additionally, the `title` class is nested within the `card` class, making it easy to reuse and maintain your styles.

CSS Modules also supports composition and inheritance, allowing you to reuse styles and build complex component hierarchies. And because CSS Modules is based on standard CSS, you can easily integrate it into your existing workflows and toolchains.

To use CSS Modules in a React application, you first need to install the necessary packages. You can do this using either npm or yarn. Here's an example of how to install the required packages using npm:

```bash
npm install --save-dev css-loader style-loader
```

Or, if you prefer to use yarn:

```bash
yarn add --dev css-loader style-loader
```

Once you have the necessary packages installed, you can configure your build tool to use CSS Modules. For example, if you're using webpack, you can add the following configuration to your webpack.config.js file:

```js
module.exports = { 
  // ...
	module: {
		rules: [{
			test: /\.module\.css$/,
			use: [{
				loader: 'style-loader',
			}, {
				loader: 'css-loader',
				options: {
					modules: true,
				},
			}, ],
		}, {
			test: /\.css$/,
			exclude: /\.module\.css$/,
			use: [{
				loader: 'style-loader',
			}, {
				loader: 'css-loader',
			}, ],
		}, ],
	},
};
```

This configuration sets up CSS Modules for files that end with `.module.css`, while allowing traditional CSS files to be used without modules.

In the next section, we'll take a closer look at how to use CSS Modules to create modular and scoped styles for your React components.


## Examples

Here's an example of how to use CSS Modules with a simple React component:

**Button.module.css**

```css
.button {
     background-color: blue;
     color: white;
     border: none;
     padding: 8px 16px;
     font-size: 16px;
     border-radius: 4px;
}
 .button:hover {
     background-color: darkblue;
}
```

**Button.js**

```jsx
import React from "react";
import styles from "./Button.module.css";
function Button(props) {
  return (
    <button className={styles.button} onClick={props.onClick}>
      {" "}
      {props.children}{" "}
    </button>
  );
}
export default Button;

```

In this example, we create a `Button` component that uses a CSS Module to define its styles. The `Button` component imports the styles from the `Button.module.css` file, which defines a `.button` class with a blue background color and white text.

The `Button` component uses the `className` prop to apply the scoped class name generated by the CSS Module to the button element. This ensures that the styles are only applied to the `Button` component and don't bleed into other parts of the application.

CSS Modules can also be used with other popular CSS frameworks like Sass or Less, allowing you to take advantage of their powerful features while still maintaining the benefits of CSS Modules.

In the next section, we'll provide some exercises to help you practice using CSS Modules with React.


## Exercises

1.  Create a `Header` component with a blue background and white text. Use a CSS Module to define the styles for the component.
    
2.  Create a `Card` component with a gray background, white text, and a border. Use a CSS Module to define the styles for the component.
    
3.  Create a `Button` component with a red background, white text, and rounded corners. Use a CSS Module to define the styles for the component.
    
4.  Create a `Form` component with input fields for a name and email address. Use a CSS Module to define the styles for the form and its inputs.
    
5.  Create a `Navbar` component with a fixed position at the top of the page, a blue background, and white text. Use a CSS Module to define the styles for the component.
    

These exercises will give you a chance to practice using CSS Modules with React and get a better understanding of how to modularize and scope your styles. Good luck!